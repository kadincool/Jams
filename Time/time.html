<!DOCTYPE html>
<html lang="en">
  <head>
    <title>clock</title>
    <style>
      body {
        background-color: #1f3f5f;
      }
      canvas {
        /*A little hack to center an element*/
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
      }
    </style>
  </head>
  <body>
    <canvas id="clockCanvas" width="400" height="400"></canvas>
    <script>
const canvas = document.getElementById("clockCanvas");
const can2d = canvas.getContext("2d");

clockX = canvas.width / 2;
clockY = canvas.height / 2;

var outRadius = Math.min(canvas.width / 2, canvas.height / 2) - 5;
// var outRadius = 50;
var midRadius = outRadius * (2 / 3);
var inRadius = outRadius * (1 / 3);

var date;

secondCols = ["#ffbf00", "#ffff00"];
minuteCols = ["#ff0000", "#00ff00"];
hourCols = ["#00ffff", "#ffff00"];

function frame() {
  // date = new Date(0);
  date = new Date(Date.now()); //update timer
  canvas.title = (date.getHours() == 12 ? 12 : date.getHours() % 12) + ":" + Math.floor(date.getMinutes() / 10) + (date.getMinutes() % 10) + (date.getHours() >= 12 ? " PM" : " AM");

  can2d.clearRect(0, 0, canvas.width, canvas.height);

  //outer ring
  can2d.fillStyle = secondCols[date.getMinutes() % 2];
  can2d.beginPath();
  can2d.arc(clockX, clockY, outRadius, 0, 2 * Math.PI);
  can2d.arc(clockX, clockY, midRadius, 2 * Math.PI, 0, true);
  can2d.closePath();
  can2d.fill();

  let ang1 = -Math.PI / 2;
  let ang2 = Math.PI * 2 * (date.getSeconds() / 60 - 0.25);
  can2d.fillStyle = secondCols[(date.getMinutes() + 1) % 2];
  can2d.beginPath();
  can2d.arc(clockX, clockY, outRadius, ang1, ang2);
  can2d.arc(clockX, clockY, midRadius, ang2, ang1, true);
  can2d.closePath();
  can2d.fill();
  can2d.stroke();

  //middle ring
  can2d.fillStyle = minuteCols[date.getHours() % 2];
  can2d.beginPath();
  can2d.arc(clockX, clockY, midRadius, 0, 2 * Math.PI);
  can2d.arc(clockX, clockY, inRadius, 2 * Math.PI, 0, true);
  can2d.closePath();
  can2d.fill();

  ang1 = -Math.PI / 2;
  ang2 = Math.PI * 2 * (date.getMinutes() / 60 - 0.25);
  can2d.fillStyle = minuteCols[(date.getHours() + 1) % 2];
  can2d.beginPath();
  can2d.arc(clockX, clockY, midRadius, ang1, ang2);
  can2d.arc(clockX, clockY, inRadius, ang2, ang1, true);
  can2d.closePath();
  can2d.fill();
  can2d.stroke();

  //center ring
  can2d.fillStyle = hourCols[Math.floor(date.getHours() / 12)];
  can2d.beginPath();
  can2d.arc(clockX, clockY, inRadius, 0, 2 * Math.PI);
  can2d.fill();

  ang1 = -Math.PI / 2;
  ang2 = Math.PI * 2 * (date.getHours() % 12 / 12 - 0.25);
  can2d.fillStyle = hourCols[(Math.floor(date.getHours() / 12) + 1) % 2];
  can2d.beginPath();
  can2d.arc(clockX, clockY, inRadius, ang1, ang2);
  can2d.lineTo(clockX, clockY);
  can2d.closePath();
  can2d.fill();
  can2d.stroke();

  //outline rings
  can2d.strokeStyle = "black";
  can2d.lineWidth = 4;
  can2d.beginPath();
  can2d.arc(clockX, clockY, outRadius, 0, 2 * Math.PI);
  can2d.stroke();
  can2d.beginPath();
  can2d.arc(clockX, clockY, midRadius, 0, 2 * Math.PI);
  can2d.stroke();
  can2d.beginPath();
  can2d.arc(clockX, clockY, inRadius, 0, 2 * Math.PI);
  can2d.stroke();

  requestAnimationFrame(frame);
}
frame();
    </script>
  </body>
</html>